<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script src="./js/중구맛집.js"></script>
</head>

<body>



  <script>
    // 중구맛집확인
    // console.log("전체데이터 :", 중구맛집);

    // 배열 OBJ만 추출
    const 중구맛집_data = 중구맛집.data;
    // console.log("중구맛집_data : ", 중구맛집.data);

    // FD_CS(음식카테고리)가 '한식'인 맛집만 추출
    const 한식 = 중구맛집_data.filter((item) => { return item.FD_CS == '한식' });
    // console.log(한식);

    // 한식에서 상호명, 메뉴, 주소만 추출해서 새로운 배열로 재구성
    const 한식_mapped = 한식.map((item) => {
      return {
        'BZ_NM': item.BZ_NM,
        'MNU': item.MNU,
        'GNG_CS': item.GNG_CS
      }
    });
    // console.log(한식_mapped);

    // 한식_mapped에서 MNU(메뉴)의 값을 메뉴명, 가격(숫자)으로 분리
    한식_mapped.map((item) => {
      // <br /> 제거
      let replacedBrMenu = item.MNU.replaceAll('<br />', "\n");
      // console.log("repalcedBrMenu", replacedBrMenu);
      // \n을 기준으로 배열로 자르기
      let menu_arr = replacedBrMenu.split("\n");
      console.log(menu_arr);
      // \n을 기준으로 잘린 배열의 재구성
      menu_arr.map((menu) => {
        menu.trim(); // 앞뒤공백 제거
        // console.log(menu);
        let splited_space = menu.trim().split('');
        console.log(splited_space)

        // 가격에 '원'제거, ','제거, number형 변환
        splited_space.map((menu_2) => {
          console.log("정규표현식 확인", menu_2.trim().match(/^\d/))
        })
      });
    })
  </script>

</body>

</html>